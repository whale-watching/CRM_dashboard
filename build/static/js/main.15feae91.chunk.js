(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{261:function(e,t,a){e.exports=a(612)},266:function(e,t,a){},267:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},268:function(e,t,a){},270:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},432:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},612:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),l=a.n(c),i=(a(266),a(10)),s=a(11),o=a(13),u=a(12),m=a(14),d=(a(267),a(268),a(71)),p=a(53),h=a(22),f=a.n(h),g=a(31),v=a(32),E=(a(270),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"table-header"},r.a.createElement("div",{className:"header-item"},"Name"),r.a.createElement("div",{className:"header-item"},"Surname"),r.a.createElement("div",{className:"header-item"},"Country"),r.a.createElement("div",{className:"header-item"},"First Contact"),r.a.createElement("div",{className:"header-item"},"Email"),r.a.createElement("div",{className:"header-item"},"Sold"),r.a.createElement("div",{className:"header-item"},"Owner"))}}]),t}(n.Component)),b=a(36),y=a.n(b),w=(a(289),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPartOfName=function(e,t){var a=e.indexOf(" ");return"first"===t?e.substring(0,a):e.substring(a+1)},a.formatDate=function(e){var t=(e=new Date(e)).getDate(),a=e.getMonth()+1,n=e.getFullYear();return"".concat(a,"/").concat(t,"/").concat(n)},a.popModal=function(){var e=a.getPartOfName(a.props.client.name,"first"),t=a.getPartOfName(a.props.client.name,"surname");a.props.popModal(e,t,a.props.client.country,a.props.client._id)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.client;return r.a.createElement("div",{className:"client-row",onDoubleClick:this.popModal},r.a.createElement("div",{className:"row-item"},this.getPartOfName(e.name,"first")),r.a.createElement("div",{className:"row-item"},this.getPartOfName(e.name,"surname")),r.a.createElement("div",{className:"row-item"},e.country),r.a.createElement("div",{className:"row-item"},this.formatDate(e.firstContact)),r.a.createElement("div",{className:"row-item"},e.emailType?e.emailType:"."),r.a.createElement("div",{className:"row-item"},e.sold?r.a.createElement("i",{className:"fas fa-check"}):"-"),r.a.createElement("div",{className:"row-item"},e.owner))}}]),t}(n.Component)),C=(a(290),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){return a.setState(Object(v.a)({},e.target.name,e.target.value))},a.userChangedInput=function(){return a.state.nameInput!==a.props.name||a.state.surnameInput!==a.props.surname||a.state.countryInput!==a.props.country},a.updateClient=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.userChangedInput()){e.next=3;break}return alert("Please change a field or click the 'x' to exit."),e.abrupt("return");case 3:return t={name:"".concat(a.state.nameInput," ").concat(a.state.surnameInput),country:a.state.countryInput},e.next=6,y.a.put("/client/modal/".concat(a.props.id),t);case 6:a.props.updateClient();case 7:case"end":return e.stop()}},e)})),a.closeModal=function(){return a.props.closeModal()},a.state={nameInput:a.props.name,surnameInput:e.surname,countryInput:e.country},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"modal"},r.a.createElement("div",null,r.a.createElement("i",{id:"exit-modal-btn",onClick:this.closeModal,className:"far fa-times-circle"})),r.a.createElement("div",null,r.a.createElement("span",null,"Name:"),r.a.createElement("input",{type:"text",name:"nameInput",value:this.state.nameInput,onChange:this.handleInput})),r.a.createElement("div",null,r.a.createElement("span",null,"Surname:"),r.a.createElement("input",{type:"text",name:"surnameInput",value:this.state.surnameInput,onChange:this.handleInput})),r.a.createElement("div",null,r.a.createElement("span",null,"Country:"),r.a.createElement("input",{type:"text",name:"countryInput",value:this.state.countryInput,onChange:this.handleInput})),r.a.createElement("div",{onClick:this.updateClient,id:"clients-update-btn"},"Update"))}}]),t}(n.Component)),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleFilter=function(t){return e.setState(Object(v.a)({},t.target.name,t.target.value))},e.getClients=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/clients");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),e.componentDidMount=Object(g.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClients();case 2:a=t.sent,e.setState({clients:a});case 4:case"end":return t.stop()}},t)})),e.currentClients=function(){return e.state.clients.slice(20*e.state.pageNum-20,20*e.state.pageNum)},e.filterClients=function(){return"sold"!==e.state.selectedFilter?e.currentClients().filter(function(t){return t[e.state.selectedFilter].toLowerCase().includes(e.state.searchFilter.toLowerCase())}):e.currentClients().filter(function(e){return e.sold})},e.pageUp=function(){if(!(20*e.state.pageNum>e.state.clients.length)){var t=e.state.pageNum+1;e.setState({pageNum:t})}},e.pageDown=function(){if(1!==e.state.pageNum){var t=e.state.pageNum-1;e.setState({pageNum:t})}},e.showCurrentClientNum=function(){var t=20*e.state.pageNum,a=t-19;return r.a.createElement("div",{id:"paging"},r.a.createElement("i",{className:"fas fa-chevron-left",onClick:e.pageDown}),r.a.createElement("p",null,a," - ",20*e.state.pageNum>e.state.clients.length&&e.state.clients.length?"END":t),r.a.createElement("i",{className:"fas fa-chevron-right",onClick:e.pageUp}))},e.popModal=function(t,a,n,r){var c={name:t,surname:a,country:n,id:r};e.setState({showModal:!0,modalClient:c})},e.closeModal=function(){return e.setState({showModal:!1,modalClient:{}})},e.updateClient=Object(g.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClients();case 2:a=t.sent,e.setState({showModal:!1,modalClient:{},clients:a});case 4:case"end":return t.stop()}},t)})),e.state={clients:[],searchFilter:"",selectedFilter:"name",pageNum:1,showModal:!1,modalClient:{}},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"clients-page"},r.a.createElement("div",{id:"search-container"},r.a.createElement("input",{type:"text",name:"searchFilter",placeholder:"Search",value:this.state.search,onChange:this.handleFilter,id:"search-clients-input"}),r.a.createElement("select",{id:"select-filter",name:"selectedFilter",value:this.state.selectedFilter,onChange:this.handleFilter},r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"sold"},"Sold"),r.a.createElement("option",{value:"owner"},"Owner"),r.a.createElement("option",{value:"country"},"Country"))),r.a.createElement("div",{id:"table"},r.a.createElement(E,null),this.filterClients().map(function(t){return r.a.createElement(w,{popModal:e.popModal,client:t,key:t._id})}),this.showCurrentClientNum()),this.state.showModal?r.a.createElement(C,{name:this.state.modalClient.name,surname:this.state.modalClient.surname,country:this.state.modalClient.country,id:this.state.modalClient.id,closeModal:this.closeModal,updateClient:this.updateClient}):null)}}]),t}(n.Component),j=a(232),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).updateName=function(t){return e.setState({selectedName:t.target.value},function(){this.updateClientID()})},e.createDataListOptions=function(){return e.props.clients.map(function(e){return r.a.createElement("option",{key:e._id,value:e.name})})},e.updateClientID=function(){var t=e.props.clients.find(function(t){return t.name===e.state.selectedName});t&&e.props.updateClientID(t._id)},e.state={selectedName:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("span",null,"Client: "),r.a.createElement("input",{type:"text",id:"update-client-input",placeholder:"Client Name",list:"clients",value:this.state.selectedName,onInput:this.updateName}),r.a.createElement("datalist",{id:"clients"},this.createDataListOptions()))}}]),t}(n.Component),S=(a(291),a(105)),D=a.n(S),k=a(49),M=a.n(k),I=a(104),x=a.n(I),A=a(103),T=a.n(A),F=a(67),U=a.n(F),B=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).updateClientID=function(t){return e.setState({clientIdToUpdate:t})},e.getClients=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/clients/actions");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),e.componentDidMount=Object(g.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClients();case 2:a=t.sent,e.setState({clients:a});case 4:case"end":return t.stop()}},t)})),e.createEmailDropdownElement=function(){return r.a.createElement("select",{name:"newEmailType",value:e.state.newEmailType,onChange:e.handleSelections},r.a.createElement("option",{selected:!0,disabled:!!e.state.disableEmptySelect.newEmailType||null}," -- select an email -- "),r.a.createElement("option",{value:"A"},"A"),r.a.createElement("option",{value:"B"},"B"),r.a.createElement("option",{value:"C"},"C"),r.a.createElement("option",{value:"D"},"D"))},e.createMaterialEmailDropdownElement=function(){return r.a.createElement(T.a,{value:e.state.newEmailType,onChange:e.handleSelections,inputProps:{name:"newEmailType"}},r.a.createElement(M.a,{disabled:!!e.state.disableEmptySelect.newOwner||null},r.a.createElement("em",null,"-- select an owner --")),r.a.createElement(M.a,{value:"A"},"A"),r.a.createElement(M.a,{value:"B"},"B"),r.a.createElement(M.a,{value:"C"},"C"),r.a.createElement(M.a,{value:"D"},"D"))},e.createOwnerDropdownElement=function(){var t=[];return e.state.clients.forEach(function(e){return t.some(function(t){return t===e.owner})?null:t.push(e.owner)}),t.map(function(e){return r.a.createElement("option",{value:e},e)})},e.createOwnerMaterialDropdownElement=function(){var t=[];return e.state.clients.forEach(function(e){return t.some(function(t){return t===e.owner})?null:t.push(e.owner)}),t.map(function(e){return r.a.createElement(M.a,{key:e,value:e},e)})},e.updateUser=function(){var t=Object(g.a)(f.a.mark(function t(a,n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.put("/client/".concat(e.state.clientIdToUpdate,"/?propToUpdate=").concat(a),{value:n});case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.handleSelections=function(t){if(e.state.disableEmptySelect[t.target.name])e.setState(Object(v.a)({},t.target.name,t.target.value));else{var a,n=Object(j.a)({},e.state.disableEmptySelect);n[t.target.name]=!0,e.setState((a={},Object(v.a)(a,t.target.name,t.target.value),Object(v.a)(a,"disableEmptySelect",n),a))}},e.checkState=function(){return!!e.state.clientIdToUpdate},e.transferOwnership=function(){e.checkState()?(e.updateUser("owner",e.state.newOwner),e.props.showSnackbar("Updated")):e.props.showSnackbar("Not updated")},e.sendEmail=function(){e.checkState()?(e.updateUser("emailType",e.state.newEmailType),e.props.showSnackbar("Updated")):e.props.showSnackbar("Not updated")},e.declareSale=function(){e.checkState()?(e.updateUser("sold",!0),e.props.showSnackbar("Updated")):e.props.showSnackbar("Not updated")},e.state={clients:[],clientIdToUpdate:"",newOwner:"",newEmailType:"",disableEmptySelect:{newOwner:!1,newEmailType:!1}},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"update-action"},r.a.createElement("h4",null,"UPDATE"),r.a.createElement(N,{updateClientID:this.updateClientID,clients:this.state.clients}),r.a.createElement("div",{className:"update-client",id:"transfer-ownership"},r.a.createElement(x.a,null,r.a.createElement(D.a,null,"Transfer Ownership To"),r.a.createElement(T.a,{value:this.state.newOwner,onChange:this.handleSelections,inputProps:{name:"newOwner",id:"age-simple"}},r.a.createElement(M.a,{disabled:!!this.state.disableEmptySelect.newOwner||null},r.a.createElement("em",null,"-- select an owner --")),this.createOwnerMaterialDropdownElement())),r.a.createElement(U.a,{id:"transfer-btn",onClick:this.transferOwnership,className:"action-btn"},"TRANSFER")),r.a.createElement("div",{className:"update-client",id:"send-email"},r.a.createElement(x.a,null,r.a.createElement(D.a,null,"Send Email"),this.createMaterialEmailDropdownElement()),r.a.createElement(U.a,{id:"send-email-btn",onClick:this.sendEmail,className:"action-btn"},"SEND")),r.a.createElement("div",{className:"update-client",id:"declare-sale"},r.a.createElement("div",{id:"declare-sale"},"Declare Sale!"),r.a.createElement(U.a,{id:"declare-sale-btn",onClick:this.declareSale,className:"action-btn"},"DECLARE")))}}]),t}(n.Component),P=a(72),L=a.n(P),H=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleInput=function(t){return e.setState(Object(v.a)({},t.target.name,t.target.value))},e.isStateSet=function(){var t=!0;return Object.keys(e.state).forEach(function(a){return e.state[a]?null:t=!1}),t},e.saveClient=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/client",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.clearInputs=function(){return e.setState({firstName:"",surname:"",email:"",country:"",owner:""})},e.addClient=function(){if(e.isStateSet()){var t={name:"".concat(e.state.firstName," ").concat(e.state.surname),email:e.state.email,firstContact:new Date,owner:e.state.owner,country:e.state.country};e.saveClient(t),e.clearInputs(),e.props.showSnackbar("Added")}else e.props.showSnackbar("Not added")},e.state={firstName:"",surname:"",email:"",country:"",owner:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"create-action"},r.a.createElement("h4",null,"ADD CLIENT"),r.a.createElement("div",{id:"input-fields"},r.a.createElement(L.a,{className:"standard-name",label:"First Name",name:"firstName",value:this.state.firstName,onChange:this.handleInput,margin:"none"}),r.a.createElement(L.a,{className:"standard-name",label:"Surname",name:"surname",value:this.state.surname,onChange:this.handleInput,margin:"none"}),r.a.createElement(L.a,{className:"standard-name",label:"Email",name:"email",value:this.state.email,onChange:this.handleInput,margin:"none"}),r.a.createElement(L.a,{className:"standard-name",label:"Country",name:"country",value:this.state.country,onChange:this.handleInput,margin:"none"}),r.a.createElement(L.a,{className:"standard-name",label:"Owner",name:"owner",value:this.state.owner,onChange:this.handleInput,margin:"none"}),r.a.createElement(U.a,{id:"add-client-btn",onClick:this.addClient,variant:"contained",color:"primary"},"Add New Client")))}}]),t}(n.Component),K=a(234),R=a.n(K),z=a(80),J=a.n(z),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).showSnackbar=function(t){"Added"===t?(e.setState({showSavedMessage:!0}),e.clearSnackbar("showSavedMessage")):"Updated"===t?(e.setState({showUpdatedMessage:!0}),e.clearSnackbar("showUpdatedMessage")):"Not updated"===t?(e.setState({showNotUpdatedMessage:!0}),e.clearSnackbar("showNotUpdatedMessage")):"Not added"===t&&(e.setState({showNotAddedMessage:!0}),e.clearSnackbar("showNotAddedMessage"))},e.clearSnackbar=function(t){setTimeout(function(){return e.setState(Object(v.a)({},t,!1))},2e3)},e.state={showSavedMessage:!1,showUpdatedMessage:!1,showNotUpdatedMessage:!1,showNotAddedMessage:!1},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"actions"},r.a.createElement(B,{showSnackbar:this.showSnackbar}),r.a.createElement(R.a,{id:"divider",variant:"middle"}),r.a.createElement(H,{showSnackbar:this.showSnackbar}),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showSavedMessage,message:r.a.createElement("span",null,"Client Added")}),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showNotAddedMessage,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",null,"Enter all fields & try again")}),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showUpdatedMessage,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",null,"Client Updated")}),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showNotUpdatedMessage,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",null,"Select a client & try again")}))}}]),t}(n.Component),W=(a(432),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"badge-container"},r.a.createElement("div",{className:"icon-container",style:{backgroundColor:this.props.badgeCategory.color}},r.a.createElement("i",{className:this.props.badgeCategory.icon})),r.a.createElement("div",{className:"badge-value"},this.props.badgeCategory.data),r.a.createElement("div",{className:"badge-sentence"},this.props.badgeCategory.sentence))}}]),t}(n.Component)),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).getMonthName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return new Intl.DateTimeFormat("en-US",{month:"long"}).format(e)},e.getNumNewClients=function(e){var t=(new Date).getMonth();return e.filter(function(e){return new Date(e.firstContact).getMonth()===t}).length},e.getNumEmailsSent=function(e){return e.filter(function(e){return e.emailType}).length},e.getNumOutstandingClients=function(e){return e.filter(function(e){return!e.sold}).length},e.getHottestCountry=function(e){var t={};e.forEach(function(e){return t[e.country]?t[e.country]++:t[e.country]=1});var a=Object.keys(t),n=0,r="";return a.forEach(function(e){t[e]>n&&(n=t[e],r=e)}),r},e.createBadgeElements=function(t){return{newClients:{data:e.getNumNewClients(t),icon:"fas fa-chart-line",sentence:"New ".concat(e.getMonthName()," Clients"),color:"#2ECC71"},emailsSent:{data:e.getNumEmailsSent(t),icon:"fas fa-envelope",sentence:"Emails Sent",color:"#3498DB"},outstandingClients:{data:e.getNumOutstandingClients(t),icon:"fas fa-users",sentence:"Outstanding Clients",color:"#E74C3C"},hottestCountry:{data:e.getHottestCountry(t),icon:"fas fa-globe-americas",sentence:"Hottest Country",color:"#F1C40F"}}},e.state={isLoading:!0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.createBadgeElements(this.props.clients),t=Object.keys(e);return this.props.clients.length&&this.state.isLoading&&this.setState({isLoading:!1}),r.a.createElement("div",{id:"badges-container"},this.state.isLoading?"show loader":t.map(function(t){return r.a.createElement(W,{key:t,badgeCategory:e[t]})}))}}]),t}(n.Component),Y=a(19),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createOwnerClientObj=function(e){var t={};return e.forEach(function(e){e.sold&&(t[e.owner]?t[e.owner]++:t[e.owner]=1)}),t},a.createDataArray=function(e){var t=[];return Object.keys(e).forEach(function(a){t.push({name:a,sales:e[a]})}),t},a.generateTopEmployees=function(e){var t=a.createOwnerClientObj(e),n=a.createDataArray(t);return(n=n.sort(function(e,t){return e.sales-t.sales})).splice(0,n.length-3),n},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.generateTopEmployees(this.props.clients);return r.a.createElement("div",{id:"top-emp",className:"chart"},r.a.createElement("h5",null,"Top Employees"),r.a.createElement(Y.d,{layout:"vertical",width:500,height:250,data:e,margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(Y.k,{type:"number"}),r.a.createElement(Y.l,{reversed:!0,dataKey:"name",type:"category"}),r.a.createElement(Y.j,null),r.a.createElement(Y.e,null),r.a.createElement(Y.a,{dataKey:"sales",barSize:25,fill:"#003f5c"})))}}]),t}(n.Component),G=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleSelection=function(t){return e.setState({selection:t.target.value})},e.getFullMonth=function(e){return new Intl.DateTimeFormat("en-US",{month:"short"}).format(e)},e.sortMonths=function(e){var t={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};return e.sort(function(e,a){return t[e]-t[a]})},e.createDataObject=function(t,a){var n={},r=!0,c=!1,l=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;if(o.sold)if("firstContact"===a){var u=e.getFullMonth(new Date(o[a]));n[u]?n[u]++:n[u]=1}else n[o[a]]?n[o[a]]++:n[o[a]]=1}}catch(m){c=!0,l=m}finally{try{r||null==s.return||s.return()}finally{if(c)throw l}}return n},e.generateSalesByDataPoint=function(t,a){var n=e.createDataObject(t,a),r=[],c="firstContact"===a?e.sortMonths(Object.keys(n)):Object.keys(n),l=!0,i=!1,s=void 0;try{for(var o,u=c[Symbol.iterator]();!(l=(o=u.next()).done);l=!0){var m=o.value;r.push({name:m.split(" ")[0],sales:n[m]})}}catch(d){i=!0,s=d}finally{try{l||null==u.return||u.return()}finally{if(i)throw s}}return r},e.getChartDataBySelection=function(){return"country"===e.state.selection?e.generateSalesByDataPoint(e.props.clients,"country"):"email"===e.state.selection?e.generateSalesByDataPoint(e.props.clients,"emailType"):"month"===e.state.selection?e.generateSalesByDataPoint(e.props.clients,"firstContact"):"owner"===e.state.selection?e.generateSalesByDataPoint(e.props.clients,"owner"):void 0},e.state={selection:"country"},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.getChartDataBySelection();return r.a.createElement("div",{id:"sales-by",className:"chart"},r.a.createElement("h5",null,"Sales By:"),r.a.createElement("select",{id:"sales-by-selection",value:this.state.selection,onChange:this.handleSelection},r.a.createElement("option",{value:"country"},"Country"),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"month"},"Month"),r.a.createElement("option",{value:"owner"},"Owner")),r.a.createElement(Y.b,{width:700,height:250,data:e},r.a.createElement(Y.c,{strokeDasharray:"3 3"}),r.a.createElement(Y.k,{dataKey:"name"}),r.a.createElement(Y.l,null),r.a.createElement(Y.j,null),r.a.createElement(Y.e,null),r.a.createElement(Y.a,{dataKey:"sales",fill:"#955196"})))}}]),t}(n.Component),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getHistoricalDate=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},a.getFullMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return new Intl.DateTimeFormat("en-US",{month:"short"}).format(e)},a.getAllDates=function(){for(var e=[],t=30;t>0;t--)e.push(a.getHistoricalDate(t));return e},a.getSalesByDate=function(e){var t=0,n=Math.floor(4*Math.random()+1),r=!0,c=!1,l=void 0;try{for(var i,s=a.props.clients[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,u=new Date(o.firstContact);u.getMonth()===e.getMonth()&&u.getDate()===e.getDate()&&t++}}catch(m){c=!0,l=m}finally{try{r||null==s.return||s.return()}finally{if(c)throw l}}return t*n},a.getDataForChart=function(){var e=a.getAllDates(),t=[],n=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var s=l.value,o={date:"".concat(a.getFullMonth(s)," ").concat(s.getDate())};o.sales=a.getSalesByDate(s),t.push(o)}}catch(u){r=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.getDataForChart();return r.a.createElement("div",null,r.a.createElement("h5",null,"Sales since ","".concat(this.getFullMonth(this.getHistoricalDate(30))," ").concat(this.getHistoricalDate(30).getDate())),r.a.createElement(Y.g,{width:700,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(Y.k,{dataKey:"date"}),r.a.createElement(Y.l,null),r.a.createElement(Y.j,null),r.a.createElement(Y.e,null),r.a.createElement(Y.f,{dot:!1,type:"monotone",dataKey:"sales",stroke:"#FE7259",strokeWidth:3})))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getDateRange=function(e,t){var a=[],n=new Date;n.setDate(n.getDate()-e);var r=new Date;for(r.setDate(r.getDate()-t);n<r;){n.setDate(n.getDate()+1);var c=new Date(n);a.push(c)}return a},a.getSalesByDate=function(e){var t=0,n=!0,r=!1,c=void 0;try{for(var l,i=a.props.clients[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var s=l.value,o=new Date(s.firstContact);o.getMonth()===e.getMonth()&&o.getDate()===e.getDate()&&t++}}catch(u){r=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t},a.getClientsByDate=function(e,t,n,r){var c=a.getDateRange(t,n),l={name:e,clients:0,fill:r},i=!0,s=!1,o=void 0;try{for(var u,m=c[Symbol.iterator]();!(i=(u=m.next()).done);i=!0){var d=u.value;l.clients+=a.getSalesByDate(d)}}catch(p){s=!0,o=p}finally{try{i||null==m.return||m.return()}finally{if(s)throw o}}return l},a.getDataForChart=function(){var e=[];return e.push(a.getClientsByDate("Last Month",30,0,"#795548")),e.push(a.getClientsByDate("1-6 Months",180,31,"#34495E")),e.push(a.getClientsByDate("6-12 Months",365,181,"#95A5A6")),e},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.getDataForChart();return r.a.createElement("div",null,r.a.createElement("h5",{id:"client-acq-header"},"Client Acquisition"),r.a.createElement(Y.i,{width:400,height:300},r.a.createElement(Y.h,{dataKey:"clients",isAnimationActive:!0,data:e,cx:200,cy:150,outerRadius:80,label:!0}),r.a.createElement(Y.j,null)))}}]),t}(n.Component),X=(a(605),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"charts-container"},r.a.createElement("div",{id:"first-two"},r.a.createElement($,{clients:this.props.clients}),r.a.createElement(G,{clients:this.props.clients})),r.a.createElement("div",{id:"second-two"},r.a.createElement(Q,{clients:this.props.clients}),r.a.createElement(V,{clients:this.props.clients})))}}]),t}(n.Component)),Z=(a(606),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).getClients=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/clients");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),e.componentDidMount=Object(g.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClients();case 2:a=t.sent,e.setState({clients:a,isLoading:!1});case 4:case"end":return t.stop()}},t)})),e.showLoader=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))},e.showData=function(){return r.a.createElement("div",null,r.a.createElement(q,{clients:e.state.clients}),r.a.createElement(X,{clients:e.state.clients}))},e.state={clients:[],isLoading:!0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.isLoading?this.showLoader():this.showData())}}]),t}(n.Component)),ee=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.redirectPage(),r.a.createElement(p.a,{to:"/clients"})}}]),t}(n.Component),te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).changePage=function(t){return e.setState({pageName:t.target.name})},e.isClientSelected=function(){return"clients"===e.state.pageName},e.isActionSelected=function(){return"actions"===e.state.pageName},e.isAnalyticSelected=function(){return"analytics"===e.state.pageName},e.redirectPage=function(){return e.setState({pageName:"clients"})},e.state={pageName:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.isClientSelected()?"page-selected":"page-not-selected",a=this.isActionSelected()?"page-selected":"page-not-selected",n=this.isAnalyticSelected()?"page-selected":"page-not-selected";return r.a.createElement(d.a,null,r.a.createElement("div",{id:"navbar"},r.a.createElement("div",{className:"".concat(t," nav-link")},r.a.createElement(d.b,{to:"/clients",name:"clients",onClick:this.changePage},"CLIENTS")),r.a.createElement("div",{className:"".concat(a," nav-link")},r.a.createElement(d.b,{to:"/actions",name:"actions",onClick:this.changePage},"ACTIONS")),r.a.createElement("div",{className:"".concat(n," nav-link")},r.a.createElement(d.b,{to:"/analytics",name:"analytics",onClick:this.changePage},"ANALYTICS"))),r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ee,{redirectPage:e.redirectPage})}}),r.a.createElement(p.b,{exact:!0,path:"/clients",render:function(){return r.a.createElement(O,null)}}),r.a.createElement(p.b,{exact:!0,path:"/actions",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(p.b,{exact:!0,path:"/analytics",render:function(){return r.a.createElement(Z,null)}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[261,1,2]]]);
//# sourceMappingURL=main.15feae91.chunk.js.map